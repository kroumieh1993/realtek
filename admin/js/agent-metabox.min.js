!function(a){"use strict";a(function(){a(document).on("change",".js-es-preferred-radio",function(){a(".js-es-preferred-radio:checked").not(this).removeProp("checked").removeAttr("checked")}),a(document).on("click",".js-es-entity-form.post-type-agent #publish",function(b){var c=a(".js-es-user-pwd"),d=c.closest(".es-field");if(c.trigger("keyup"),!a("#es-user-pwd").hasClass("es-hidden"))return d.find(".es-validate-item").length===d.find(".es-validate-item--active").length||(c[0].setCustomValidity(EstatikAgentMetabox.tr.invalid_password_format),c[0].reportValidity(),b.preventDefault(),!1)}),a(document).on("keyup change",".js-es-user-pwd, .js-es-user-email, #title[name=post_title]",function(){var b=a(this).closest("#post"),c=b.find(".js-es-user-pwd"),d=c.val(),e=c.closest(".es-field"),f=b.find(".js-es-user-email");if(b.find(".js-es-has-user[type=checkbox]").is(":checked")&&!c.hasClass("js-es-user-exists")){var g=b.find("[name=post_title]"),h=/[a-zA-Z0-9]/g;e.find(".es-validate-item__contain").toggleClass("es-validate-item--active",g!==d&&d!==f.val()),e.find(".es-validate-item__length").toggleClass("es-validate-item--active",d.length>=8),e.find(".es-validate-item__char").toggleClass("es-validate-item--active",h.test(d))}}),a(document).on("change",".js-es-has-user[type=checkbox]",function(){var b=a(this).closest("form").find(".js-es-user-pwd"),c=a(this).closest("form").find(".js-es-user-email"),d=c.closest(".es-field").find(".es-field__label");a(this).is(":checked")?(c.prop("required","required").attr("required","required"),d.find(".es-required").length||d.append("<span class='es-required'> *</span>"),b.hasClass("js-es-user-exists")?b.removeProp("required").removeAttr("required").removeProp("disabled").removeAttr("disabled"):b.removeProp("disabled").removeAttr("disabled")):(c.removeProp("required").removeAttr("required"),d.find(".es-required").remove(),b.prop("required","required").attr("required","required").prop("disabled","disabled").attr("disabled","disabled"))}),a(".js-es-has-user[type=checkbox]").trigger("change")})}(jQuery);